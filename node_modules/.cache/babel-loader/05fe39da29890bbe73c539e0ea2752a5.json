{"remainingRequest":"/Users/daisuke/Desktop/vue_ver2/my-project/node_modules/babel-loader/lib/index.js!/Users/daisuke/Desktop/vue_ver2/my-project/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/daisuke/Desktop/vue_ver2/my-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/daisuke/Desktop/vue_ver2/my-project/src/pages/django_task.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/daisuke/Desktop/vue_ver2/my-project/src/pages/django_task.vue","mtime":1626272652106},{"path":"/Users/daisuke/Desktop/vue_ver2/my-project/node_modules/cache-loader/dist/cjs.js","mtime":1624797707346},{"path":"/Users/daisuke/Desktop/vue_ver2/my-project/node_modules/babel-loader/lib/index.js","mtime":1624797707383},{"path":"/Users/daisuke/Desktop/vue_ver2/my-project/node_modules/cache-loader/dist/cjs.js","mtime":1624797707346},{"path":"/Users/daisuke/Desktop/vue_ver2/my-project/node_modules/vue-loader/lib/index.js","mtime":1624797716038}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gJy4uL2F4aW9zLWZvci1hdXRoLmpzJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvL3Jlc3BvbnNl44Gu5Y+X44GR5Y+W44KK5Y+j44KS55So5oSPCiAgICAgIGluZm86IFtdLAogICAgICB0aXRsZTogIiIKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgaWRUb2tlbjogZnVuY3Rpb24gaWRUb2tlbigpIHsKICAgICAgLy90b2tlbuOCkui/lOOBmQogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5pZFRva2VuOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLy9nZXTjg6Hjgr3jg4Pjg4njgafjgr/jgrnjgq/jgpLlj5blvpcKICAgIHRva2VuX2xvZzogZnVuY3Rpb24gdG9rZW5fbG9nKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgY29uc29sZS5sb2coIiIuY29uY2F0KHRoaXMuaWRUb2tlbikpOwogICAgICBheGlvcy5nZXQoJy9hcGkvdGFza3MvJywgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsCiAgICAgICAgICAnQXV0aG9yaXphdGlvbic6ICJUb2tlbiAiLmNvbmNhdCh0aGlzLmlkVG9rZW4pCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIC8vY29uc29sZS5sb2cocmVzcG9uc2UpOyAgICAgICAKICAgICAgICAvL2NvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGFbJzEnXS5pZCkKICAgICAgICAvL2RvY3VtZW50LndyaXRlKCc8cD4nKyByZXNwb25zZS5kYXRhICsgJzwvcD4nKTsKICAgICAgICBfdGhpcy5pbmZvID0gcmVzcG9uc2UuZGF0YTsgLy9kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd3JhcCcpLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJyxyZXNwb25zZS5kYXRhWycxJ10udGl0bGUpOwogICAgICB9KTsKICAgIH0sCiAgICBuZXdfdGFzazogZnVuY3Rpb24gbmV3X3Rhc2soKSB7CiAgICAgIHZhciBkYXRhID0gewogICAgICAgIHRpdGxlOiB0aGlzLnRpdGxlCiAgICAgIH07CiAgICAgIGNvbnNvbGUubG9nKCIiLmNvbmNhdCh0aGlzLmlkVG9rZW4pKTsKICAgICAgY29uc29sZS5sb2codGhpcy50aXRsZSk7CiAgICAgIGF4aW9zLnBvc3QoIi9hcGkvdGFza3MvIiwgZGF0YSwgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsCiAgICAgICAgICAnQXV0aG9yaXphdGlvbic6ICJUb2tlbiAiLmNvbmNhdCh0aGlzLmlkVG9rZW4pCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgICAgdGhpcy50aXRsZSA9ICIiOwogICAgfSwKICAgIGRlbGV0ZV90YXNrOiBmdW5jdGlvbiBkZWxldGVfdGFzayhpZCkgewogICAgICBheGlvcy5kZWxldGUoIi9hcGkvdGFza3MvIi5jb25jYXQoaWQpLCB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiAiVG9rZW4gIi5jb25jYXQodGhpcy5pZFRva2VuKQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICBhbGVydChlcnJvciArICdcbuaXouOBq+WtmOWcqOOBl+OBquOBhOOCv+OCueOCr+OBp+OBmScpOwogICAgICB9KTsKICAgICAgdGhpcy50aXRsZSA9ICIiOwogICAgfQogIH0KfTs="},{"version":3,"sources":["django_task.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA,OAAA,KAAA,MAAA,sBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA;AACA,MAAA,IAAA,EAAA,EAFA;AAGA,MAAA,KAAA,EAAA;AAHA,KAAA;AAKA,GAPA;AAQA,EAAA,QAAA,EAAA;AACA,IAAA,OADA,qBACA;AACA;AACA,aAAA,KAAA,MAAA,CAAA,OAAA,CAAA,OAAA;AACA;AAJA,GARA;AAeA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,SAFA,uBAEA;AAAA;;AACA,MAAA,OAAA,CAAA,GAAA,WAAA,KAAA,OAAA;AACA,MAAA,KAAA,CAAA,GAAA,CAAA,aAAA,EAAA;AACA,QAAA,OAAA,EAAA;AACA,0BAAA,kBADA;AAEA,2CAAA,KAAA,OAAA;AAFA;AADA,OAAA,EAMA,IANA,CAMA,UAAA,QAAA,EAAA;AAEA;AACA;AACA;AACA,QAAA,KAAA,CAAA,IAAA,GAAA,QAAA,CAAA,IAAA,CALA,CAMA;AAEA,OAdA;AAeA,KAnBA;AAoBA,IAAA,QApBA,sBAoBA;AACA,UAAA,IAAA,GAAA;AACA,QAAA,KAAA,EAAA,KAAA;AADA,OAAA;AAGA,MAAA,OAAA,CAAA,GAAA,WAAA,KAAA,OAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,KAAA;AACA,MAAA,KAAA,CAAA,IAAA,CACA,aADA,EACA,IADA,EAEA;AACA,QAAA,OAAA,EAAA;AACA,0BAAA,kBADA;AAEA,2CAAA,KAAA,OAAA;AAFA;AADA,OAFA,EASA,IATA,CASA,UAAA,QAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,QAAA;AACA,OAXA,EAYA,KAZA,CAYA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,OAdA;AAeA,WAAA,KAAA,GAAA,EAAA;AACA,KA1CA;AA6CA,IAAA,WA7CA,uBA6CA,EA7CA,EA6CA;AACA,MAAA,KAAA,CAAA,MAAA,sBACA,EADA,GAEA;AACA,QAAA,OAAA,EACA;AACA,2CAAA,KAAA,OAAA;AADA;AAFA,OAFA,EAQA,IARA,CAQA,UAAA,QAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,QAAA;AACA,OAVA,EAWA,KAXA,CAWA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,QAAA,KAAA,CAAA,KAAA,GAAA,gBAAA,CAAA;AAEA,OAfA;AAgBA,WAAA,KAAA,GAAA,EAAA;AACA;AA/DA;AAfA,CAAA","sourcesContent":["<template>\n  \n  <div class=\"container_t\">\n    <h2>タスク管理ページです</h2>\n    <div class=\"task_get\">\n    <!--<div id ='wrap'> <p>トークン表示</p></div>-->\n      <button type=\"button\" @click=\"token_log()\">確認する</button>\n    </div>\n    <!--<input type =\"text\" v-model=\"this.info\">-->\n    <!--タスク表示-->\n    <div class=\"ul-align-center\">\n    <ul>\n      <li v-for=\"item in info\" :key=\"item.title\" class=\"task_list\">\n        タスク名:{{item.title}} <button type=\"button\" class=\"button\" @click=\"delete_task(item.id)\">削除</button>\n      </li>  \n    </ul>\n    \n    <br>\n    <!--タスク作成-->\n    <h3>タスク作成</h3>\n      <label for=\"title\">タスク名:</label>\n      <input type=\"text\" id=\"task\" v-model=\"title\">\n      <button type=\"button\" @click=\"new_task()\">作成する</button>\n    </div>\n\n    </div>\n</template>\n\n<script>\n\nimport axios from '../axios-for-auth.js';\nexport default {\n  data: function () {\n  return {\n    //responseの受け取り口を用意\n    info: [],\n    title: \"\"\n  }\n},\n  computed: {\n    idToken() {\n      //tokenを返す\n      return this.$store.getters.idToken;\n    },\n\n  },\n  methods: {\n    //getメソッドでタスクを取得\n    token_log() {\n      console.log(`${this.idToken}`)\n        axios.get('/api/tasks/',{\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Token ${this.idToken}`\n            }\n        })\n        .then((response) => {\n          \n            //console.log(response);       \n            //console.log(response.data['1'].id)\n            //document.write('<p>'+ response.data + '</p>');\n            this.info = response.data\n            //document.getElementById('wrap').insertAdjacentHTML('beforeend',response.data['1'].title);\n\n        });\n    },\n    new_task(){\n    const data = {\n      title:this.title\n    }\n    console.log(`${this.idToken}`)\n    console.log(this.title)\n    axios.post(\n      \"/api/tasks/\", data,\n      {\n    headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Token ${this.idToken}`\n      }\n    }\n    )\n    .then(response => {\n      console.log(response);\n    })\n    .catch(error =>{\n      console.log(error);\n    })\n    this.title = \"\";\n  },\n\n\n  delete_task(id){\n    axios.delete(\n      `/api/tasks/${id}`,\n      {\n        headers:\n    {\n     'Authorization': `Token ${this.idToken}`\n    }\n    })\n    .then(response => {\n      console.log(response);\n    })\n    .catch(error =>{\n      console.log(error);\n      alert(error + '\\n既に存在しないタスクです')\n\n    })\n    this.title = \"\";\n  },\n\n\n }\n}\n</script>\n\n"],"sourceRoot":"src/pages"}]}